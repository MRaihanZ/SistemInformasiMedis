<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>GO Pasien</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<!-- Navar -->
		<nav class="navbar navbar-expand-lg bg-dark">
			<div class="container">
				<a class="navbar-brand text-light" href="/">Go Pasien</a>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
					aria-controls="navbarNav"
					aria-expanded="false"
					aria-label="Toggle navigation"
				>
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav ms-auto">
						<li class="nav-item pe-3">
							<a
								class="nav-link active text-light"
								aria-current="page"
								href="/pasien"
								>Pasien</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link active text-light" href="/categories"
								>Categories</a
							>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<!-- End of Navbar -->

		<div class="container mt-3">
			<div class="row d-flex justify-content-center">
				<div class="col-4">
					<h2>Edit Pasien Record</h2>
					<hr />

					<form action="/pasien/edit" method="POST">
						<div class="mb-3">
							<label class="form-label">Id</label>
							<input
								type="text"
								name="id"
								class="form-control"
								value="{{ .record.Id}}"
								disabled
							/>
							<input
								type="hidden"
								name="id"
								class="form-control"
								value="{{ .record.Id}}"
							/>
						</div>
						<div class="mb-3">
							<label class="form-label">Name</label>
							<select class="form-select" name="id_pasien">
								<option value="{{ .record.Pasien.Id}}">
									-- Default: {{.record.Pasien.Name}}
								</option>
								{{range .pasien}}
								<option value="{{ .Id}}">{{.Name}}</option>
								{{end}}
							</select>
						</div>
						<div class="mb-3">
							<label class="form-label">Category</label>
							<select class="form-select" name="id_category">
								<option value="{{ .record.Category.Id}}">
									-- Default: {{.record.Category.Name}}
								</option>
								{{range .categories}}
								<option value="{{ .Id}}">{{.Name}}</option>
								{{end}}
							</select>
						</div>
						<div class="mb-3">
							<label class="form-label">Doctor Name</label>
							<select class="form-select" name="id_doctor">
								<option value="{{ .record.Doctor.Id}}">
									-- Default: {{.record.Doctor.Name}}
								</option>
								{{range .doctor}}
								<option value="{{ .Id}}">{{.Name}}</option>
								{{end}}
							</select>
						</div>
						<div class="mb-3">
							<label class="form-label">Diagnose</label>
							<textarea name="diagnose" class="form-control" rows="5">
{{ .record.Diagnose }}</textarea
							>
						</div>
						<div class="mb-3">
							<label class="form-label">Description</label>
							<textarea name="description" class="form-control" rows="5">
{{ .record.Description }}</textarea
							>
						</div>
						<div class="mb-3">
							<label class="form-label">Medicine Name</label>
							<select class="form-select" name="id_medicine">
								<option value="{{ .record.Medicine.Id}}">
									-- Default: {{.record.Medicine.Name}}
								</option>
								{{range .medicine}}
								<option value="{{ .Id}}">{{.Name}}</option>
								{{end}}
							</select>
						</div>
						<div class="float-end">
							<a href="/pasien" class="btn btn-secondary">Back</a>
							<button type="submit" class="btn btn-primary">Save</button>
						</div>
						<div class="float-start">
							<a
								href="/pasien/delete?id={{.Id}}"
								onclick="return confirm('Are you sure want to delete this product ?')"
								class="btn btn-danger"
								>Delete</a
							>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
